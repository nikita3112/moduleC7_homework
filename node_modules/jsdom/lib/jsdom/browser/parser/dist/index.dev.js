"use strict";

var xmlParser = require("./xml");

var htmlParser = require("./html"); // https://w3c.github.io/DOM-Parsing/#dfn-fragment-parsing-algorithm


function parseFragment(markup, contextElement) {
  var _parsingMode = contextElement._ownerDocument._parsingMode;
  var parseAlgorithm;

  if (_parsingMode === "html") {
    parseAlgorithm = htmlParser.parseFragment;
  } else if (_parsingMode === "xml") {
    parseAlgorithm = xmlParser.parseFragment;
  } // Note: HTML and XML fragment parsing algorithm already return a document fragments; no need to do steps 3 and 4


  return parseAlgorithm(markup, contextElement);
}

function parseIntoDocument(markup, ownerDocument) {
  var _parsingMode = ownerDocument._parsingMode;
  var parseAlgorithm;

  if (_parsingMode === "html") {
    parseAlgorithm = htmlParser.parseIntoDocument;
  } else if (_parsingMode === "xml") {
    parseAlgorithm = xmlParser.parseIntoDocument;
  }

  return parseAlgorithm(markup, ownerDocument);
}

module.exports = {
  parseFragment: parseFragment,
  parseIntoDocument: parseIntoDocument
};