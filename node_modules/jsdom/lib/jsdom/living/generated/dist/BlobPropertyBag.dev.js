"use strict";

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

var conversions = require("webidl-conversions");

var utils = require("./utils.js");

var EndingType = require("./EndingType.js");

exports._convertInherit = function (obj, ret) {
  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
      _ref$context = _ref.context,
      context = _ref$context === void 0 ? "The provided value" : _ref$context;

  {
    var key = "endings";
    var value = obj === undefined || obj === null ? undefined : obj[key];

    if (value !== undefined) {
      value = EndingType.convert(value, {
        context: context + " has member 'endings' that"
      });
      ret[key] = value;
    } else {
      ret[key] = "transparent";
    }
  }
  {
    var _key = "type";

    var _value = obj === undefined || obj === null ? undefined : obj[_key];

    if (_value !== undefined) {
      _value = conversions["DOMString"](_value, {
        context: context + " has member 'type' that"
      });
      ret[_key] = _value;
    } else {
      ret[_key] = "";
    }
  }
};

exports.convert = function convert(obj) {
  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref2$context = _ref2.context,
      context = _ref2$context === void 0 ? "The provided value" : _ref2$context;

  if (obj !== undefined && _typeof(obj) !== "object" && typeof obj !== "function") {
    throw new TypeError("".concat(context, " is not an object."));
  }

  var ret = Object.create(null);

  exports._convertInherit(obj, ret, {
    context: context
  });

  return ret;
};