'use strict';

var strip = require('./strip');
/**
 * @param {string} msg
 * @param {number} perLine
 */


module.exports = function (msg, perLine) {
  var lines = String(strip(msg) || '').split(/\r?\n/);
  if (!perLine) return lines.length;
  return lines.map(function (l) {
    return Math.ceil(l.length / perLine);
  }).reduce(function (a, b) {
    return a + b;
  });
};